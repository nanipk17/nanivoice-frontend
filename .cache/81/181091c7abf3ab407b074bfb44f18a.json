{"id":"J5FH","dependencies":[{"name":"D:\\poc\\react-embedd\\package.json","includedInParent":true,"mtime":1691423031586},{"name":"react","loc":{"line":1,"column":38,"index":38},"parent":"D:\\poc\\react-embedd\\src\\hooks\\recordAudio.js","resolved":"D:\\poc\\react-embedd\\node_modules\\react\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"react\");function t(e,t){return o(e)||u(e,t)||n(e,t)||r()}function r(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function n(e,t){if(e){if(\"string\"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=r){var n,a,u,o,l=[],i=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=u.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(s){c=!0,a=s}finally{try{if(!i&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}function o(e){if(Array.isArray(e))return e}var l=function(r,n,a){var u=t((0,e.useState)(!1),2),o=u[0],l=u[1],i=t((0,e.useState)(!1),2),c=i[0],s=i[1],f=t((0,e.useState)(0),2),d=f[0],v=f[1],b=t((0,e.useState)(),2),g=b[0],m=b[1],y=t((0,e.useState)(),2),p=y[0],h=y[1],S=t((0,e.useState)(),2),j=S[0],k=S[1],A=(0,e.useCallback)(function(){var e=setInterval(function(){v(function(e){return e+1})},1e3);h(e)},[v,h]),C=(0,e.useCallback)(function(){null!=p&&clearInterval(p),h(void 0)},[p,h]);return{startRecording:(0,e.useCallback)(function(){null==p&&navigator.mediaDevices.getUserMedia({audio:null==r||r}).then(function(e){l(!0);var t=new MediaRecorder(e,a);m(t),t.start(),A(),t.addEventListener(\"dataavailable\",function(e){k(e.data),t.stream.getTracks().forEach(function(e){return e.stop()}),m(void 0)})}).catch(function(e){console.log(e.name,e.message,e.cause),null==n||n(e)})},[p,l,m,A,k,n,a]),stopRecording:(0,e.useCallback)(function(){null==g||g.stop(),C(),v(0),l(!1),s(!1)},[g,v,l,s,C]),togglePauseResume:(0,e.useCallback)(function(){c?(s(!1),null==g||g.resume(),A()):(s(!0),C(),null==g||g.pause())},[g,s,A,C]),recordingBlob:j,isRecording:o,isPaused:c,recordingTime:d,mediaRecorder:g}},i=l;exports.default=i;"},"sourceMaps":null,"error":null,"hash":"9a6455ced99f1c095229a77bc819d6a1","cacheData":{"env":{}}}